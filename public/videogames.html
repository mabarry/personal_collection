<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Games</title>
    <link rel="stylesheet" href="css/game-styles.css">
</head>
<body>
    <div class="background"></div>
    <div class="wrapper">
        <h1>Matthew's Video Game Collection!</h1>
        <div class="main-container">
            <header>
                <nav class="navbar">
                    <a href="/homepage" class="back-button"><button></button></a>
                    <a href="/videogame-wishlist"><button>Wishlist</button></a>
                    <!-- Square button to open the Snake game modal -->
                    <a href="#" class="mute-button"><img src="images/mute.png" alt="Mute"></a>
                    <a href="#" class="snake-button" onclick="openSnakeGameModal()"><img src="images/q-block.png" alt="Snake"></a>
                </nav>
            </header>
            <main class="content">
                <!-- Empty table for dynamic addition of items -->
                <table id="item-table">
                    <!-- Table body will be populated dynamically -->
                </table>
                <!-- Input fields for adding new items -->
                <input type="file" id="file-input">
                <input type="text" id="title-input" placeholder="Enter title">
                <input type="text" id="description-input" placeholder="Enter description">
                <button id="add-item-button">Add Item</button>
                <button id="save-items-button">Save Items</button>
            </main>
        </div>
    </div>

    <!-- Modal for the mystery game -->
    <div id="snakeGameModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSnakeGameModal()">&times;</span>
            <iframe id="snakeGameFrame" src="https://funhtml5games.com?embed=mariofps" style="width:640px;height:480px;border:none;" frameborder="0" scrolling="no" muted></iframe>
        </div>
    </div>

    <script>
        var audio = new Audio('music/mii-maker.mp3');
        audio.loop = true;
        var isPlaying = false;

        document.querySelector('.mute-button').addEventListener('click', function() {
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
                this.querySelector('img').src = 'images/mute.png';
            } else {
                audio.play();
                isPlaying = true;
                this.querySelector('img').src = 'images/unmute.png';
            }
        });

        function openSnakeGameModal() {
            var snakeGameFrame = document.getElementById('snakeGameFrame');
            snakeGameFrame.src = 'https://funhtml5games.com?embed=mariofps'; // Set the iframe src back to game
            document.getElementById('snakeGameModal').style.display = 'block';
            if (isPlaying) {
                audio.pause(); // Pause the background music
            }
        }

        function closeSnakeGameModal() {
            var snakeGameFrame = document.getElementById('snakeGameFrame');
            snakeGameFrame.src = ''; // Stop the iframe content
            document.getElementById('snakeGameModal').style.display = 'none';
            if (isPlaying) {
                audio.play(); // Resume the background music if it was playing
            }
        }
        
    </script>
    <script src="js/scripts.js"></script>
</body>
</html>
